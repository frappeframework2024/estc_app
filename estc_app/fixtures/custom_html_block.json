[
 {
  "docstatus": 0,
  "doctype": "Custom HTML Block",
  "html": "<h3>Leave Balance</h3>\n<div class=\"wrapper-my-info\">\n    <div id=\"leave_balance\"></div>\n    <div class=\"l-balance\">\n        <div class=\"l-item m-leave\">\n            <div class=\"l-it-inner\">\n            <span><svg xmlns=\"http://www.w3.org/2000/svg\" height=\"1em\" viewBox=\"0 0 512 512\"><path d=\"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z\"/></svg></span>\n            <span class=\"bagde-bg\" id=\"max_leave\"></span>\n            </div>\n            <span class=\"lebal\">Max Leave</span>\n            \n        </div>\n        <div class=\"l-item l-usage\">\n            <div class=\"l-it-inner\">\n            <span><svg xmlns=\"http://www.w3.org/2000/svg\" height=\"1em\" viewBox=\"0 0 448 512\"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d=\"M448 73.143v45.714C448 159.143 347.667 192 224 192S0 159.143 0 118.857V73.143C0 32.857 100.333 0 224 0s224 32.857 224 73.143zM448 176v102.857C448 319.143 347.667 352 224 352S0 319.143 0 278.857V176c48.125 33.143 136.208 48.572 224 48.572S399.874 209.143 448 176zm0 160v102.857C448 479.143 347.667 512 224 512S0 479.143 0 438.857V336c48.125 33.143 136.208 48.572 224 48.572S399.874 369.143 448 336z\"/></svg></span>\n            <span class=\"bagde-bg\" id=\"leave_usage\"></span>\n            </div>\n            <span class=\"lebal\">Leave Usage</span>\n        </div>\n        <div class=\"l-item balance\">\n            <div class=\"l-it-inner\">\n            <span><svg xmlns=\"http://www.w3.org/2000/svg\" height=\"1em\" viewBox=\"0 0 288 512\"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d=\"M209.2 233.4l-108-31.6C88.7 198.2 80 186.5 80 173.5c0-16.3 13.2-29.5 29.5-29.5h66.3c12.2 0 24.2 3.7 34.2 10.5 6.1 4.1 14.3 3.1 19.5-2l34.8-34c7.1-6.9 6.1-18.4-1.8-24.5C238 74.8 207.4 64.1 176 64V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48h-2.5C45.8 64-5.4 118.7.5 183.6c4.2 46.1 39.4 83.6 83.8 96.6l102.5 30c12.5 3.7 21.2 15.3 21.2 28.3 0 16.3-13.2 29.5-29.5 29.5h-66.3C100 368 88 364.3 78 357.5c-6.1-4.1-14.3-3.1-19.5 2l-34.8 34c-7.1 6.9-6.1 18.4 1.8 24.5 24.5 19.2 55.1 29.9 86.5 30v48c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-48.2c46.6-.9 90.3-28.6 105.7-72.7 21.5-61.6-14.6-124.8-72.5-141.7z\"/></svg></span>\n            <span class=\"bagde-bg\" id=\"balance\"></span>\n            </div>\n            <span class=\"lebal\">Balance</span> \n        </div>\n    </div>\n    <hr/>\n    <div id=\"leave_type_balance\"></div>\n</div>",
  "modified": "2023-09-29 11:44:55.010547",
  "name": "Employee Leave Balance",
  "private": 0,
  "roles": [],
  "script": "let parser = new DOMParser(); // create a DOMParser object\n\nfrappe.call(\"estc_app.estc_hr.doctype.employee.employee.get_current_employee_leave_balance\").then(r=>{\n  \n  root_element.querySelector('#max_leave').textContent= r.message.max_leave\n  root_element.querySelector('#leave_usage').textContent= r.message.use_leave\n  root_element.querySelector('#balance').textContent= r.message.balance\n  \n  r.message.leave_data.forEach((x)=>{\n     \n     root_element.querySelector(\"#leave_type_balance\").appendChild(createProgress(x))\n        \n      \n  })\n  \n})\n\n\nfunction createProgress(d){\n    d.max_leave = d.max_leave ==0?1:d.max_leave\n    let ui = `\n    <div>\n        <strong>${d.leave_type} (${d.use_leave}/${d.max_leave})</strong>\n        <div class=\"progress-container\">\n            <div class=\"progress\" style=\"width: ${(d.use_leave / d.max_leave * 100) > 100 ? 100 : (d.use_leave / d.max_leave * 100)}%; background: ${d.color}\">\n                ${(d.use_leave/d.max_leave)*100}%\n            </div>\n        </div>\n    <di><br/>`\n \n    return parser.parseFromString(ui, \"text/html\").querySelector(\"div\")\n    \n}\n",
  "style": " .progress-container {\r\n  height: 20px;\r\n  background-color: #ddd;\r\n  border-radius: 10px;\r\n  margin-top:10px;\r\n}\r\n\r\n.progress {\r\n  height: 20px;\r\n  border-radius: 10px;\r\n  color: white;\r\n  font-weight: bold;\r\n  text-align: center;\r\n  transition: all 1s ease;\r\n  width: 0;\r\n}\r\n.l-balance{\r\n    display: flex;\r\n    justify-content: space-between;\r\n    gap: 2%;\r\n}\r\n.l-balance .l-item{\r\n    padding: 10px 10px;\r\n    border-radius: 5px;\r\n    color: #fff !important;\r\n    width: 100% !important;\r\n    box-shadow: rgba(0, 0, 0, 0.16) 0px 1px 4px;\r\n}\r\n.l-item.m-leave{\r\n    background: #f7941d;\r\n}\r\n.l-item.l-usage{\r\n    background: #183a1d;\r\n}\r\n.l-item.balance{\r\n    background: #70be51;\r\n    \r\n}\r\n.l-item .bagde-bg{\r\n    background: #00000054;\r\n    border-radius: 50%;\r\n    width: 20px;\r\n    height: 20px;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    font-size: 11px;\r\n}\r\n@media (max-width: 767.98px){\r\n    .l-balance{\r\n        display: block;\r\n    }\r\n    .l-balance .l-item{\r\n        margin-bottom: 15px;\r\n    }\r\n}\r\n.progress-container .progress{\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n}\r\n.wrapper-my-info{\r\n    box-shadow: rgba(0, 0, 0, 0.16) 0px 1px 4px;\r\n    border-radius: 5px;\r\n    padding: 10px;\r\n    margin-bottom: 15px;\r\n}\r\nsvg{\r\n    fill: #fff;\r\n}\r\n.l-balance svg{\r\n    margin-bottom: 10px;\r\n}\r\n\r\n.l-balance .l-it-inner{\r\n    display: flex;\r\n    justify-content: space-between;\r\n    width: 100%;\r\n}\r\n\r\n@media (max-width: 567.98px){\r\n    .l-balance .lebal{\r\n        white-space: nowrap;\r\n    }\r\n}"
 },
 {
  "docstatus": 0,
  "doctype": "Custom HTML Block",
  "html": "<h3>Upcoming Leave</h3>\n<div class=\"scroll-section p-1\">\n    <div id=\"upcoming_leave\"></div>\n</div>",
  "modified": "2023-09-29 11:53:49.413726",
  "name": "Upcoming Employee On Leave",
  "private": 0,
  "roles": [],
  "script": "let parser = new DOMParser(); // create a DOMParser object\n\nfrappe.call(\"estc_app.estc_hr.doctype.employee.employee.get_upcomming_employee_on_leave\").then(r=>{\n  \n  r.message.forEach((x)=>{\n     \n     root_element.querySelector(\"#upcoming_leave\").appendChild(get_data(x))\n\n  })\n  \n})\n\n\nfunction get_data(d){\n    \n    let ui = `\n    <div class=\"wrapper-my-info\">\n        <span class=\"d-flex\">\n            <span class=\"mr-2\">\n                <img class='rounded-circle' src='${d.photo}' style='width:40px' onerror=\"this.src='/assets/estc_app/images/avatar-2.png'\"/>\n            </span>\n            <span class=\"info-section\">\n                <span>${d.employee} - ${d.employee_name}</span>,\n                <span style='color: #0f7f12;'>${d.leave_type}</span><br/>\n                <div><svg xmlns=\"http://www.w3.org/2000/svg\" height=\"1em\" viewBox=\"0 0 448 512\"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d=\"M400 64h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zm-6 400H54c-3.3 0-6-2.7-6-6V160h352v298c0 3.3-2.7 6-6 6z\"/></svg> <span>${frappe.format(d.start_date,{\"fieldtype\":\"Date\"})} to ${frappe.format(d.to_date,{\"fieldtype\":\"Date\"})}</span></div>\n            </span>\n        </span>\n    <di>`\n    let dom =parser.parseFromString(ui, \"text/html\").querySelector(\"div\")\n     dom.addEventListener('click', function() {\n        frappe.set_route('Form', 'Leave Request',d.name)\n    })\n    \n    return dom\n    \n}\n",
  "style": ".wrapper-my-info {\n    box-shadow: rgba(0, 0, 0, 0.16) 0px 1px 4px;\n    border-radius: 5px;\n    padding: 10px;\n    margin-bottom: 15px;\n    cursor: pointer;\n}\n.info-section div{\n    color: rgb(128,128,128);\n    font-size: 12px;\n}\n.info-section svg{\n    fill: rgb(128,128,128);\n    font-size: 12px;\n}\n.scroll-section {\n    max-height: 29rem;\n    overflow-y: auto;\n}\n#upcoming_leave .wrapper-my-info:last-child {\n    margin-bottom: 0 !important;\n}"
 },
 {
  "docstatus": 0,
  "doctype": "Custom HTML Block",
  "html": "\n<h3>On Leave Today</h3>\n<div class=\"scroll-section p-1\">\n    <div id=\"leave_today\"></div>\n</div>",
  "modified": "2023-09-29 11:53:17.799559",
  "name": "Employee on Leave Today",
  "private": 0,
  "roles": [],
  "script": "let parser = new DOMParser(); // create a DOMParser object\n\nfrappe.call(\"estc_app.estc_hr.doctype.employee.employee.get_employee_on_leave_today\").then(r=>{\n  \n  r.message.forEach((x)=>{\n     \n     root_element.querySelector(\"#leave_today\").appendChild(get_data(x))\n\n  })\n  \n})\n\n\nfunction get_data(d){\n    \n    let ui = `\n    <div class='wrapper-my-info'>\n        <span class=\"d-flex\">\n            <span class=\"mr-2\">\n                <img class='rounded-circle' src='${d.photo}' style='width:40px' onerror=\"this.src='/assets/estc_app/images/avatar-2.png'\"/>\n            </span>\n            <span class=\"info-section\">\n                <span class=\"text-dark\">${d.employee} - ${d.employee_name}</span>,\n                <span style='color: #0f7f12;'>${d.leave_type}</span><br/>\n                <div><svg xmlns=\"http://www.w3.org/2000/svg\" height=\"1em\" viewBox=\"0 0 448 512\"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d=\"M400 64h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zm-6 400H54c-3.3 0-6-2.7-6-6V160h352v298c0 3.3-2.7 6-6 6z\"/></svg> <span>${frappe.format(d.start_date,{\"fieldtype\":\"Date\"})} to ${frappe.format(d.to_date,{\"fieldtype\":\"Date\"})}</span></div>\n            </span>\n        </span>\n    <div>`\n    let dom =parser.parseFromString(ui, \"text/html\").querySelector(\"div\")\n     dom.addEventListener('click', function() {\n        frappe.set_route('Form', 'Leave Request',d.name)\n    })\n    \n    return dom\n    \n}\n",
  "style": ".wrapper-my-info {\n    box-shadow: rgba(0, 0, 0, 0.16) 0px 1px 4px;\n    border-radius: 5px;\n    padding: 10px;\n    margin-bottom: 15px;\n    cursor: pointer;\n}\n.info-section div{\n    color: rgb(128,128,128);\n    font-size: 12px;\n}\n.info-section svg{\n    fill: rgb(128,128,128);\n    font-size: 12px;\n}\n.scroll-section {\n    max-height: 29rem;\n    overflow-y: auto;\n}\n#leave_today .wrapper-my-info:last-child{\n    margin-bottom: 0 !important;\n}"
 },
 {
  "docstatus": 0,
  "doctype": "Custom HTML Block",
  "html": "<div class=\"wrapper-banner\">\n    <div class=\"banner\">\n        <div class=\"banner-bg-imge\">\n            <div class=\"user_info\">\n                <div>\n                    <div class=\"avatar\">\n                        <img alt=\"User Avatar\" id=\"avatar\" onerror=\"this.src='/assets/estc_app/images/avatar-2.png'\">\n                    </div>\n                    <div class=\"inner-intro-text d-block d-md-none w-100\">\n                        <h1 class=\"mb-0 mt-3 text-white\" id=\"employee_name\"></h1>\n                        <p class=\"postition text-white\" id=\"employee_position\"></p>\n                        <p>\n                            <span class=\"info_ico\"><svg xmlns=\"http://www.w3.org/2000/svg\" height=\"1em\" viewBox=\"0 0 384 512\"><path d=\"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z\"/></svg></span>\n                            <span class=\"info_ico\"><svg xmlns=\"http://www.w3.org/2000/svg\" height=\"1em\" viewBox=\"0 0 320 512\"><path d=\"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z\"/></svg></span>\n                            <span class=\"info_ico\"><svg xmlns=\"http://www.w3.org/2000/svg\" height=\"1em\" viewBox=\"0 0 448 512\"><path d=\"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z\"/></svg></span>\n                            <span class=\"info_ico\"><svg xmlns=\"http://www.w3.org/2000/svg\" height=\"1em\" viewBox=\"0 0 576 512\"><path d=\"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z\"/></svg></span>\n                        </p>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class=\"inner-intro-text d-none d-md-block mt-3\">\n        <h2 id=\"employee_name_0\"></h2>\n        <p class=\"postition\" id=\"employee_position_0\"></p>\n        <p>\n            <span><svg xmlns=\"http://www.w3.org/2000/svg\" height=\"1em\" viewBox=\"0 0 384 512\"><path d=\"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z\"/></svg> <span id=\"address\"></span></span> | \n            <span><svg xmlns=\"http://www.w3.org/2000/svg\" height=\"1em\" viewBox=\"0 0 320 512\"><path d=\"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z\"/></svg></span>\n            <span><svg xmlns=\"http://www.w3.org/2000/svg\" height=\"1em\" viewBox=\"0 0 448 512\"><path d=\"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z\"/></svg></span>\n            <span><svg xmlns=\"http://www.w3.org/2000/svg\" height=\"1em\" viewBox=\"0 0 576 512\"><path d=\"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z\"/></svg></span>\n        </p>\n    </div>\n</div>\n\n<hr/>\n\n",
  "modified": "2023-09-29 09:54:29.872996",
  "name": "My Profile",
  "private": 0,
  "roles": [],
  "script": "frappe.call(\"estc_app.estc_hr.doctype.employee.employee.get_currency_employee\").then(r=>{\n    \n    const img = r.message.employee.profile_background_photo\n\n    const name = r.message.employee.employee_name\n    const position = r.message.employee.position\n    const address = r.message.employee.address\n    \n    if(r.message.employee.profile_background_photo){\n        root_element.querySelector(\".banner\").style.backgroundImage = \"url('\" + r.message.employee.profile_background_photo  + \"')\";\n    }\n    \n    \n    \n    root_element.querySelector('#avatar').src=r.message.employee.photo\n    root_element.querySelector('#employee_name').textContent=name\n    root_element.querySelector('#employee_position').textContent=position\n    root_element.querySelector('#address').textContent=address\n    \n    root_element.querySelector('#employee_name_0').textContent=name\n    root_element.querySelector('#employee_position_0').textContent=position\n    root_element.querySelector('#address_0').textContent=address\n    \n  \n})\n\n\n\nfunction get_data(label, data){\n \n    let ui = `\n        <div>${label}: ${data}</div>\n    `\n    \n    return parser.parseFromString(ui, \"text/html\").querySelector(\"div\")\n    \n}",
  "style": "*,\n*::before,\n*::after {\n  box-sizing: border-box;\n}\nbody {\n  min-height: 100vh;\n  text-rendering: optimizeSpeed;\n  line-height: 1.5;\n}\n.wrapper-banner{\n    height: 460px;\n    position: relative;\n    top: -22px;\n    left: -15px;\n    width: calc(100% + 30px);\n}\n.banner{\n    height: 340px;\n    background-image: url('/assets/estc_app/images/default_bg.jpeg');\n    background-repeat: no-repeat;\n    background-position: center center;\n    background-size:cover;\n    position: relative;\n    border-radius: 10px 10px 00px 0px;\n}\n.user_info{\n    position: absolute;\n    left: 14rem;\n    bottom: -33%;\n    transform: translateX(-50%);\n}\n.user_info .avatar{\n    border: 5px solid #fff;\n    border-radius: 50%;\n    box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;\n}\n.avatar {\n  width: 200px;\n  height: 200px;\n  border-radius: 50%;\n  overflow: hidden;\n}\n.avatar img {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n.user-info {\n  color: white;\n  font-size: 24px;\n}\n.intro-text{\n    position: relative;\n    margin-top: 10px;\n}\n.inner-intro-text{\n    position: absolute;\n    left: 23rem;\n}\nh1,h2,h3,h4,h5,h6{\n    margin-bottom: 10px;\n}\n.inner-intro-text .postition {\n    font-weight: bold;\n}\nsvg {\n    fill: #9b9b9b;\n}\n\n/*break point*/\n@media (max-width: 767.98px){\n    .avatar{\n        width: 100px;\n        height: 100px;\n    }\n    .user_info{\n        left: 50%;\n        top: 50%;\n        bottom: unset !important;\n        transform: translate(-50%, -85%);\n        width: 75%;\n        display: flex;\n        justify-content: center;\n    }\n    .inner-intro-text{\n        left: 0;\n    }\n    .intro-text{\n        margin-top: 55px;\n    }\n    .inner-intro-text > *{\n        text-align: center;\n    }\n    .wrapper-banner{\n        height: 500px;\n    }\n    svg{\n        fill: #fff !important;\n    }\n    .wrapper-banner{\n        height: 300px;\n    }\n}\n@media (max-width: 991.98px){\n    .wrapper-banner{\n        left: -10px;\n        width: calc(100% + 20px);\n    }\n}"
 },
 {
  "docstatus": 0,
  "doctype": "Custom HTML Block",
  "html": "<h3>Quick Link</h3>\n<div class=\"q-link\">\n    <div class=\"row m-0\">\n        <div class=\"q-item col-6 col-lg-6 pl-0 \">\n            <a id=\"edit_my_profile\">\n                <p class=\"text-center\"><svg xmlns=\"http://www.w3.org/2000/svg\" height=\"1em\" viewBox=\"0 0 576 512\"><path d=\"M402.3 344.9l32-32c5-5 13.7-1.5 13.7 5.7V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h273.5c7.1 0 10.7 8.6 5.7 13.7l-32 32c-1.5 1.5-3.5 2.3-5.7 2.3H48v352h352V350.5c0-2.1.8-4.1 2.3-5.6zm156.6-201.8L296.3 405.7l-90.4 10c-26.2 2.9-48.5-19.2-45.6-45.6l10-90.4L432.9 17.1c22.9-22.9 59.9-22.9 82.7 0l43.2 43.2c22.9 22.9 22.9 60 .1 82.8zM460.1 174L402 115.9 216.2 301.8l-7.3 65.3 65.3-7.3L460.1 174zm64.8-79.7l-43.2-43.2c-4.1-4.1-10.8-4.1-14.8 0L436 82l58.1 58.1 30.9-30.9c4-4.2 4-10.8-.1-14.9z\"/></svg></p> \n                <p class=\"text-center m-0\">Edit My Profile</p>\n            </a>\n        </div>\n        <div class=\"q-item col-6 col-lg-6 pl-0 \">\n            <a id=\"leave_calendar\">\n                <p class=\"text-center\"><svg xmlns=\"http://www.w3.org/2000/svg\" height=\"1em\" viewBox=\"0 0 448 512\"><path d=\"M400 64h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zm-6 400H54c-3.3 0-6-2.7-6-6V160h352v298c0 3.3-2.7 6-6 6z\"/></svg></p> \n                <p class=\"text-center m-0\">Leave Calendar</p>\n            </a>\n        </div>\n        <div class=\"q-item col-6 col-lg-6 pl-0 \">\n            <a id=\"new_leave_request\">\n                <p class=\"text-center\"><svg xmlns=\"http://www.w3.org/2000/svg\" height=\"1em\" viewBox=\"0 0 512 512\"><path d=\"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z\"/></svg></p> \n                <p class=\"text-center m-0\">New Leave Request</p>\n            </a>\n        </div>\n        <div class=\"q-item col-6 col-lg-6 pl-0 \">\n            <a id=\"my_dashboard\">\n                <p class=\"text-center\"><svg xmlns=\"http://www.w3.org/2000/svg\" height=\"1em\" viewBox=\"0 0 512 512\"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d=\"M296 32h192c13.255 0 24 10.745 24 24v160c0 13.255-10.745 24-24 24H296c-13.255 0-24-10.745-24-24V56c0-13.255 10.745-24 24-24zm-80 0H24C10.745 32 0 42.745 0 56v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24zM0 296v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H24c-13.255 0-24 10.745-24 24zm296 184h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H296c-13.255 0-24 10.745-24 24v160c0 13.255 10.745 24 24 24z\"/></svg></p> \n                <p class=\"text-center m-0\">My Dashboard</p>\n            </a>\n        </div>\n    </div>\n    \n    <div class=\"wrapper-my-info q-info\">\n        <h4>My Previous Leave</h4>\n        <div id=\"last_leave\"></div>\n    </div>\n    \n</div>\n",
  "modified": "2023-09-28 15:02:09.509790",
  "name": "Employee Quick Link",
  "private": 0,
  "roles": [],
  "script": "let parser = new DOMParser()\r\nfrappe.call(\"estc_app.estc_hr.doctype.employee.employee.get_currency_employee\",{include_last_leave:true}).then(r=>{\r\n   root_element.querySelector(\"#edit_my_profile\").addEventListener('click', function() {\r\n            frappe.set_route('Form', 'Employee',r.message.employee.name)\r\n    });\r\n   root_element.querySelector(\"#new_leave_request\").addEventListener('click', function() {\r\n       \r\n        frappe.route_options = {\r\n            \"employee\": r.message.employee.name\r\n        };\r\n       \r\n        let local_docname = frappe.model.make_new_doc_and_get_name('Leave Request');\r\n        frappe.set_route('Form', 'Leave Request', local_docname);\r\n    });\r\n    \r\n    \r\n    \r\n    if(r.message.last_leave){\r\n        root_element.querySelector(\"#last_leave\").appendChild(last_leave(r.message.last_leave))    \r\n    }\r\n})\r\n\r\nroot_element.querySelector(\"#leave_calendar\").addEventListener('click', function() {\r\n    frappe.set_route('leave-request/view/calendar/default')\r\n});\r\n\r\nroot_element.querySelector(\"#my_dashboard\").addEventListener('click', function() {\r\n    frappe.set_route('app/dashboard-view/Employee%20Dashboard')\r\n});\r\n\r\n\r\nfunction last_leave(data){\r\n    let ui = `\r\n    <div>\r\n        <strong>Leave Type:</strong> ${data.leave_type} <br/>\r\n        <strong>Date:</strong> ${frappe.format(data.start_date,{fieldtype:\"Date\"})} to ${frappe.format(data.to_date,{fieldtype:\"Date\"})}\r\n    <di>`\r\n    let dom = parser.parseFromString(ui, \"text/html\").querySelector(\"div\")\r\n    dom.addEventListener('click', function() {\r\n        frappe.set_route('Form', 'Leave Request',data.name)\r\n    })\r\n    return dom\r\n}\r\n",
  "style": ".q-item{\n    margin-bottom: 15px;\n    display:flex;\n}\n.q-item a{\n    background: #0b9ed0;\n    padding: 5px 10px;\n    border-radius: 5px;\n    color: #fff !important;\n    width: 100% !important;\n    box-shadow: rgba(0, 0, 0, 0.16) 0px 1px 4px;\n    transition: all 1s ease;\n}\n.wrapper-my-info {\n    box-shadow: rgba(0, 0, 0, 0.16) 0px 1px 4px;\n    border-radius: 5px;\n    padding: 10px;\n    margin-bottom: 15px;\n}\nsvg {\n    fill: #fff;\n}\n.q-item a:hover{\n    background: #0b9ed08a;\n    transition: all 1s ease;\n}\n.q-link .q-item:nth-child(even){\n    padding-right: 0;\n}\n@media (max-width: 991.98px){\n    .q-link .q-item:nth-child(even){\n        padding: 0;\n    }\n}"
 },
 {
  "docstatus": 0,
  "doctype": "Custom HTML Block",
  "html": "<h3>My Leave Request</h3>\n<div class=\"scroll-section p-1\">\n    <div id=\"my_leave_request\"></div>\n</div>\n",
  "modified": "2023-09-29 10:33:59.453282",
  "name": "Employee Recent Leave Request List",
  "private": 0,
  "roles": [],
  "script": "let parser = new DOMParser()\r\nfrappe.call(\"estc_app.estc_hr.doctype.employee.employee.get_recent_leave_request\").then(r=>{\r\n  r.message.forEach(x=>{\r\n    root_element.querySelector(\"#my_leave_request\").appendChild(get_leave(x))    \r\n  })\r\n\r\n})\r\n\r\n\r\n    \r\n \r\n\r\nfunction get_leave(data){\r\n    let status = data.status\r\n    let status_color=\"\"\r\n    if (status==\"Request\"){\r\n        status =  \"submitted for approval\"\r\n        status_color=\"orange\"\r\n    }else if(status=='Approved'){\r\n        status_color=\"green\"\r\n    }else{\r\n        status_color=\"red\"\r\n    }\r\n    let to_date = \"\"\r\n    if (data.to_date !=data.start_date){\r\n        to_date = \"to \" + frappe.format(data.to_date,{fieldtype:\"Date\"})\r\n    }\r\n    \r\n    let ui = `\r\n    <div class='wrapper-my-info'>\r\n        <div class='flex justify-content-between'>    \r\n            <div class='d-flex'>\r\n                <span class='mr-2' style='color:${status_color};font-size:16px;'>â€¢</span>\r\n\r\n                <span class=\"info-section\">\r\n                    <span class=\"text-dark\">Leave request made on ${frappe.format(data.posting_date,{fieldtype:\"Date\"})} has been ${status}</span>\r\n                    <div><strong>Leave Type:</strong><span> ${data.leave_type}</span></div>\r\n                    <div><strong>Apply on:</strong> ${frappe.format(data.start_date,{fieldtype:\"Date\"})} ${to_date}</div>\r\n                </span>\r\n            </div>\r\n            <div>\r\n                <strong class='rounded-pill p-2 text-white' style='background:${status_color};font-size:12px;'>${data.status}</strong>\r\n            </div>\r\n        </div>\r\n    <div>`\r\n    let dom = parser.parseFromString(ui, \"text/html\").querySelector(\"div\")\r\n    dom.addEventListener('click', function() {\r\n        frappe.set_route('Form', 'Leave Request',data.name)\r\n    })\r\n    return dom\r\n}\r\n",
  "style": ".wrapper-my-info{   \n    box-shadow: rgba(0, 0, 0, 0.16) 0px 1px 4px;\n    border-radius: 5px;\n    padding: 10px;\n    margin-bottom: 15px;\n    cursor: pointer;\n}\n.info-section div{\n    color: rgb(128,128,128);\n    font-size: 12px;\n}\n.scroll-section{\n    max-height: 29rem;\n    overflow-y: auto;\n}\n#my_leave_request .wrapper-my-info:last-child{\n    margin-bottom: 0 !important;\n}"
 },
 {
  "docstatus": 0,
  "doctype": "Custom HTML Block",
  "html": "<h3>My Information</h3>\n<div>\n    <div class=\"basic-info wrapper-my-info\">\n        <h4><svg fill=\"#1e9fce\" xmlns=\"http://www.w3.org/2000/svg\" height=\"1em\" viewBox=\"0 0 192 512\"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d=\"M20 424.229h20V279.771H20c-11.046 0-20-8.954-20-20V212c0-11.046 8.954-20 20-20h112c11.046 0 20 8.954 20 20v212.229h20c11.046 0 20 8.954 20 20V492c0 11.046-8.954 20-20 20H20c-11.046 0-20-8.954-20-20v-47.771c0-11.046 8.954-20 20-20zM96 0C56.235 0 24 32.235 24 72s32.235 72 72 72 72-32.235 72-72S135.764 0 96 0z\"/></svg> Basic Info</h4>\n        <p><strong>Full Name: </strong><span id=\"employee_name\"></span></p>\n        <p><strong>Employee ID: </strong><span id=\"employee_id\"></span></p>\n        <p><strong>Birthday: </strong><span id=\"employee_bthd\"></span></p>\n    </div>\n    <div class=\"job wrapper-my-info\">\n        <h4><svg fill=\"#ffa731\" xmlns=\"http://www.w3.org/2000/svg\" height=\"1em\" viewBox=\"0 0 512 512\"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d=\"M320 336c0 8.84-7.16 16-16 16h-96c-8.84 0-16-7.16-16-16v-48H0v144c0 25.6 22.4 48 48 48h416c25.6 0 48-22.4 48-48V288H320v48zm144-208h-80V80c0-25.6-22.4-48-48-48H176c-25.6 0-48 22.4-48 48v48H48c-25.6 0-48 22.4-48 48v80h512v-80c0-25.6-22.4-48-48-48zm-144 0H192V96h128v32z\"/></svg> Job</h4>\n        <p><strong>Join Date: </strong><span id=\"employee_join_date\"></span></p>\n        <p><strong>Department: </strong><span id=\"employee_department\"></span></p>\n        <p><strong>Position: </strong><span id=\"employee_position\"></span></p>\n        <p><strong>Status: </strong><strong id=\"employee_status\" class=\"status-bg\"><span></span></strong></p>\n    </div>\n    <div class=\"contact wrapper-my-info\">\n        <h4><svg fill=\"#499eed\" xmlns=\"http://www.w3.org/2000/svg\" height=\"1em\" viewBox=\"0 0 448 512\"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d=\"M436 160c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-20V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h320c26.5 0 48-21.5 48-48v-48h20c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-20v-64h20c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-20v-64h20zm-228-32c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zm112 236.8c0 10.6-10 19.2-22.4 19.2H118.4C106 384 96 375.4 96 364.8v-19.2c0-31.8 30.1-57.6 67.2-57.6h5c12.3 5.1 25.7 8 39.8 8s27.6-2.9 39.8-8h5c37.1 0 67.2 25.8 67.2 57.6v19.2z\"/></svg> Contact</h4>\n        <p><strong>Phone No: </strong><span id=\"employee_mobile\"></span></p>\n        <p><strong>Work Email: </strong><span id=\"employee_email\"></span></p>\n    </div>\n</div>",
  "modified": "2023-09-29 09:40:16.857681",
  "name": "My Information",
  "private": 0,
  "roles": [],
  "script": "frappe.call(\"estc_app.estc_hr.doctype.employee.employee.get_currency_employee\").then(r=>{\n let employee=r.message.employee;\n  root_element.querySelector('#employee_name').textContent= employee.employee_name\n  root_element.querySelector('#employee_id').textContent= employee.employee_code\n  root_element.querySelector('#employee_bthd').textContent= frappe.format(employee.date_of_birth,{fieldtype:\"Date\"})\n  root_element.querySelector('#employee_join_date').textContent= frappe.format(employee.date_of_joining,{fieldtype:\"Date\"})\n  root_element.querySelector('#employee_department').textContent= employee.department\n  root_element.querySelector('#employee_position').textContent= employee.position\n  root_element.querySelector('#employee_status').textContent= employee.status\n  root_element.querySelector('#employee_mobile').textContent= employee.phone_number\n  root_element.querySelector('#employee_email').textContent= employee.company_email\n  \n  \n  if (r.message.employee.status == 'Active') {\n    root_element.querySelector('#employee_status').classList.add(\"add-bg\");\n  }\n  else\n  {\n    root_element.querySelector('#employee_status').classList.remove(\"add-bg\");\n  }\n  \n  \n})\n",
  "style": ".wrapper-my-info{\n    box-shadow: rgba(0, 0, 0, 0.16) 0px 1px 4px;\n    border-radius: 5px;\n    padding: 10px;\n    margin-bottom: 15px;\n}\n.status-bg{\n    background: rgba(255,165,0, 0.5);\n    color: rgb(255,0,0);\n    padding: 4px 10px;\n    border-radius: 10px;\n    font-size: 12px;\n}\n.status-bg.add-bg {\n    background: rgba(52,188,64,.102) !important;\n    color: green;\n}\n"
 }
]